(this["webpackJsonpreact-redux-dashboard"]=this["webpackJsonpreact-redux-dashboard"]||[]).push([[0],{457:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(1),r=a.n(c),i=a(15),s=a.n(i),o=a(12),j=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,538)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))},l=a(18),d=a(77),u=a(211),b=a(40),O=a(212),h=a(32),m=a(165),x=a(213),p=a(16),f="SET_THEME_MODE",g="TOGGLE_DRAWER",v=function(e){return{type:g,payload:e}},y={themeMode:"light",isDrawerOpen:!1},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(p.a)(Object(p.a)({},e),{},{themeMode:t.payload});case g:return Object(p.a)(Object(p.a)({},e),{},{isDrawerOpen:t.payload});default:return Object(p.a)({},e)}},N=a(29),C=a.n(N),k="SET_FROM_DATE",T="SET_TO_DATE",R={from:C()().add(-7,"d"),to:C()()},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(p.a)(Object(p.a)({},e),{},{from:t.payload});case T:return Object(p.a)(Object(p.a)({},e),{},{to:t.payload});default:return Object(p.a)({},e)}},D=a(38),E=a.n(D),F=a(65),L=a(109),B=a(110),M=function(){function e(){Object(L.a)(this,e)}return Object(B.a)(e,null,[{key:"getCarById",value:function(t){return new Promise((function(a){setTimeout((function(){var n=e.cars.find((function(e){return String(e.id)===t}));a(n)}),2500)}))}},{key:"getCars",value:function(){return new Promise((function(t){setTimeout((function(){return t(e.cars)}),2500)}))}},{key:"getCarReports",value:function(e,t,a){var n=new WeakMap,c=Math.abs(a.diff(t,"d"));return e.forEach((function(e){var a=Array.from({length:c},(function(a,n){return{carId:e.id,date:C()(t).add(n,"d"),income:Math.floor(Math.abs(5e4*Math.cos(n+e.id))),countOfLeases:10+n+e.id,incidents:Math.floor(.5*n)%e.id}}));n.set(e,a)})),new Promise((function(e){setTimeout((function(){return e(n)}),2500)}))}}]),e}();M.cars=[{id:1,stateNumber:"\u0421 012 \u0420\u0421",model:"Hyndai Solaris (2014)",status:0,color:"#d76830",imageUrl:"".concat("/react-redux-dashboard","/images/cars/hyundai-solaris-2014.jpg"),coordinats:[56.835832,60.615666]},{id:2,stateNumber:"\u041c 123 \u0412\u0421",model:"Kia Rio (2014)",status:1,color:"#808483",imageUrl:"".concat("/react-redux-dashboard","/images/cars/kia-rio-2014.jpg"),coordinats:[56.816553,60.56473]},{id:3,stateNumber:"\u041e 684 \u0420\u0422",model:"Ford Mondeo (2018)",status:2,color:"#655c57",imageUrl:"".concat("/react-redux-dashboard","/images/cars/ford-mondeo-2018.jpg"),coordinats:[56.831751,60.562233]}];var I,Y=M,_=a(25),P="GET_CARS_START",A="GET_CARS_SUCCESS",q="GET_CARS_FAIL",G=function(){return function(){var e=Object(F.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:P}),e.prev=1,e.next=4,Y.getCars();case 4:a=e.sent,t({type:A,payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:q,payload:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()};!function(e){e[e.Free=0]="Free",e[e.Busy=1]="Busy",e[e.Repair=2]="Repair"}(I||(I={}));var W,U={cars:[],isFetching:!1},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(p.a)(Object(p.a)({},e),{},{isFetching:!0});case A:return Object(p.a)(Object(p.a)({},e),{},{isFetching:!1,cars:t.payload});case q:return Object(p.a)(Object(p.a)({},e),{},{isFetching:!1,cars:[]});default:return Object(p.a)({},e)}},z=a(527),H="GET_CAR_REPORTS_START",K="GET_CAR_REPORTS_SUCCESS",J="GET_CAR_REPORTS_FAIL",Z=function(e,t,a){return function(){var n=Object(F.a)(E.a.mark((function n(c){var r,i;return E.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=Object(z.a)(),c({type:H,requestId:r}),n.prev=2,n.next=5,Y.getCarReports(e,t,a);case 5:i=n.sent,c({type:K,payload:i,requestId:r}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),c({type:J,payload:n.t0.message,requestId:r});case 12:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(e){return n.apply(this,arguments)}}()},Q={reports:null,isFetching:!1,requestId:null},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object(p.a)(Object(p.a)({},e),{},{isFetching:!0,requestId:t.requestId});case K:return e.requestId!==t.requestId?e:Object(p.a)(Object(p.a)({},e),{},{isFetching:!1,reports:t.payload,requestId:null});case J:return e.requestId!==t.requestId?e:Object(p.a)(Object(p.a)({},e),{},{isFetching:!1,reports:null,requestId:null});default:return Object(p.a)({},e)}},$=Object(b.combineReducers)({cars:V,reports:X}),ee=function(e){return Object(b.combineReducers)({router:Object(d.b)(e),layout:w,dashboard:S,vehicles:$})},te=Object(h.a)({basename:"/react-redux-dashboard"}),ae=ee(te),ne=Object(b.createStore)(ae,Object(O.composeWithDevTools)(Object(b.applyMiddleware)(Object(m.a)(te),x.a))),ce=a(495),re=a(531),ie=a(229),se=a(514),oe=a(515),je=a(27),le=a(498),de=a(500),ue=a(501),be=a(459),Oe=a(502),he=a(503),me=a(504),xe=Object(ce.a)((function(e){return Object(re.a)({root:{},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},iconChangeTheme:{}})})),pe=r.a.memo((function(e){var t=e.openDrawer,a=e.changeTheme,c=e.themeMode,r=xe();return Object(n.jsx)(le.a,{position:"relative",className:r.root,children:Object(n.jsxs)(de.a,{children:[Object(n.jsx)(ue.a,{edge:"start",className:r.menuButton,color:"inherit","aria-label":"menu",onClick:t,children:Object(n.jsx)(Oe.a,{})}),Object(n.jsx)(be.a,{variant:"h6",className:r.title,children:"CarShare"}),Object(n.jsx)(ue.a,{"aria-label":"change theme",onClick:a,color:"inherit",children:"light"===c?Object(n.jsx)(he.a,{}):Object(n.jsx)(me.a,{})})]})})})),fe=a(529),ge=a(532),ve=a(533),ye=a(509),we=a(510),Ne=a(54),Ce=a(505),ke=a(506),Te=a(507),Re=a(508),Se=Object(ce.a)((function(e){return Object(re.a)({drawer:{width:240},drawerPaper:{width:240},menuList:{paddingTop:0,"&:active":{outline:"none"}},menuItem:{padding:0},link:{display:"flex",flexGrow:1,alignItems:"center",textDecoration:"none",padding:"6px 16px",color:e.palette.text.primary,borderLeft:"5px solid transparent",transition:e.transitions.create(["all"]),"&:hover":{textDecoration:"none"}},activeLink:{backgroundColor:"light"===e.palette.type?"rgba(63, 81, 181, .15)":"rgba(51, 51, 51, .15)"}})})),De=[{icon:Object(n.jsx)(Ce.a,{}),anchor:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u043f\u0430\u043d\u0435\u043b\u044c",to:"/"},{icon:Object(n.jsx)(ke.a,{}),anchor:"\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0438",to:"/cars"},{icon:Object(n.jsx)(Te.a,{}),anchor:"\u041a\u0430\u0440\u0442\u0430",to:"/maps"},{icon:Object(n.jsx)(Re.a,{}),anchor:"\u041e\u0442\u0437\u044b\u0432\u044b",to:"/reviews"}],Ee=function(e){var t=e.isDrawerOpen,a=e.closeDrawer,c=Se();return Object(n.jsx)(fe.a,{className:c.drawer,onClose:a,open:t,classes:{paper:c.drawerPaper},children:Object(n.jsx)("nav",{children:Object(n.jsx)(ge.a,{children:De.map((function(e){return Object(n.jsx)(ve.a,{className:c.menuItem,children:Object(n.jsxs)(ye.a,{component:Ne.b,to:e.to,className:c.link,activeClassName:c.activeLink,exact:!0,children:[Object(n.jsx)(we.a,{children:e.icon}),Object(n.jsx)(be.a,{variant:"inherit",children:e.anchor})]})},e.to)}))})})})},Fe=a(511),Le=a(512),Be=function(e){var t=e.children,a=e.sidebar,c=a?9:12;return Object(n.jsx)(Fe.a,{maxWidth:"lg",children:Object(n.jsxs)(Le.a,{container:!0,children:[a&&Object(n.jsx)(Le.a,{item:!0,xs:12,sm:3,children:a}),Object(n.jsx)(Le.a,{item:!0,xs:12,sm:c,children:t})]})})},Me=a(513),Ie=Object(ce.a)((function(e){return Object(re.a)({root:{marginTop:"auto"},container:{paddingTop:20,paddingBottom:20},policy:{fontSize:".9rem"}})})),Ye=function(){var e=Ie(),t=(new Date).getFullYear();return Object(n.jsxs)("footer",{className:e.root,children:[Object(n.jsx)(Me.a,{}),Object(n.jsx)(Fe.a,{maxWidth:"lg",className:e.container,children:Object(n.jsxs)(be.a,{align:"right",children:["CarShare \xa9 ",t]})})]})},_e=Object(ce.a)((function(e){return Object(re.a)({root:{display:"flex",flexDirection:"column",minHeight:"100vh"}})})),Pe=function(e){var t=e.children,a=e.sidebar,r=_e(),i=Object(o.e)(),s=Object(o.f)((function(e){return e.layout.isDrawerOpen})),j=Object(o.f)((function(e){return e.layout.themeMode})),l=Object(c.useCallback)((function(){return i(v(!0))}),[i]),d=Object(c.useCallback)((function(){return i(v(!1))}),[i]),u=Object(c.useCallback)((function(){i(function(e){return{type:f,payload:e}}("dark"===j?"light":"dark"))}),[i,j]),b=Object(ie.a)({palette:{type:j}});return Object(n.jsxs)(se.a,{theme:b,children:[Object(n.jsx)(oe.a,{}),Object(n.jsx)(je.a,{htmlAttributes:{lang:"ru"}}),Object(n.jsxs)("div",{className:r.root,children:[Object(n.jsx)(pe,{openDrawer:l,changeTheme:u,themeMode:j}),Object(n.jsx)(Ee,{isDrawerOpen:s,closeDrawer:d}),Object(n.jsx)(Be,{sidebar:a,children:t}),Object(n.jsx)(Ye,{})]})]})},Ae=a(5),qe=a(458),Ge=function(e){return e.dashboard},We=a(528),Ue=Object(ce.a)((function(e){return Object(re.a)({root:{},input:{width:150,marginLeft:e.spacing(1),marginRight:e.spacing(1)}})})),Ve=function(e){var t=e.from,a=e.to,c=Ue();return Object(n.jsxs)("div",{className:c.root,children:[Object(n.jsx)(We.a,{label:t.label||"From",type:"date",name:"from",defaultValue:t.defaultValue,className:c.input,onChange:t.onChange}),Object(n.jsx)(We.a,{label:a.label||"To",type:"date",name:"to",defaultValue:a.defaultValue,className:c.input,onChange:a.onChange})]})},ze=function(){var e=Object(o.e)(),t=Object(o.f)(Ge,o.d),a=function(t){var a;"from"===t.target.name?e((a=t.target.value,{type:k,payload:C()(a,"YYYY-MM-DD")})):e(function(e){return{type:T,payload:C()(e,"YYYY-MM-DD")}}(t.target.value))};return Object(n.jsx)(Ve,{from:{defaultValue:t.from.format("YYYY-MM-DD"),onChange:a},to:{defaultValue:t.to.format("YYYY-MM-DD"),onChange:a}})},He=a(118),Ke=a(96),Je=function(e){return e.vehicles.cars.cars},Ze=function(e){return e.vehicles.reports.reports},Qe=Object(Ke.a)(Je,Ze,(function(e,t){var a,n=[],c=Object(He.a)(e);try{for(c.s();!(a=c.n()).done;){var r=a.value,i=null===t||void 0===t?void 0:t.get(r),s=Object.assign({},r);i&&(s.report=i.reduce((function(e,t){return e.income+=t.income,e.countOfLeases+=t.countOfLeases,e.incidents+=t.incidents,e}),{income:0,countOfLeases:0,incidents:0})),n.push(s)}}catch(o){c.e(o)}finally{c.f()}return n})),Xe=Object(Ke.a)(Je,Ze,(function(e,t){var a,n={},c=Object(He.a)(e);try{for(c.s();!(a=c.n()).done;){var r=a.value,i=null===t||void 0===t?void 0:t.get(r);i&&i.forEach((function(e){var t=e.date.format("DD.MM.YYYY"),a=n[t];n[t]={date:t,income:a?a.income+e.income:e.income,countOfLeases:a?a.countOfLeases+e.countOfLeases:e.countOfLeases,incidents:a?a.incidents+e.incidents:e.incidents}}))}}catch(s){c.e(s)}finally{c.f()}return Object.values(n)})),$e=Object(Ke.a)(Xe,(function(e){return e.length?e.reduce((function(e,t){return e.income+=t.income,e.countOfLeases+=t.countOfLeases,e.incidents+=t.incidents,e}),{income:0,countOfLeases:0,incidents:0}):null})),et=a(45),tt=a(31),at=a(518),nt=Object(ce.a)((function(e){return Object(re.a)({root:{overflow:"hidden"},title:{display:"flex",flexGrow:1,justifyContent:"space-between",alignItems:"center",marginBottom:e.spacing(1)},titleDate:{fontSize:".75rem"}})})),ct=function(e){var t=e.reports,a=nt(),c=Object(tt.a)();return Object(n.jsxs)("div",{className:a.root,children:[Object(n.jsxs)("div",{className:a.title,children:[Object(n.jsx)(be.a,{color:"primary",variant:"h6",component:"h2",children:"\u0414\u043e\u0445\u043e\u0434"}),Object(n.jsxs)(be.a,{align:"right",color:"textSecondary",className:a.titleDate,children:[!t.length&&Object(n.jsx)(at.a,{variant:"text",width:50}),t.length>0&&Object(n.jsxs)("span",{children:[t[0].date," - ",t[t.length-1].date]})]})]}),!t.length&&Object(n.jsx)(at.a,{variant:"rect",width:"100%",height:200}),t.length>0&&Object(n.jsx)(et.d,{width:"100%",height:200,children:Object(n.jsxs)(et.b,{data:t,margin:{top:10,right:30,left:0,bottom:0},children:[Object(n.jsx)(et.f,{dataKey:"date"}),Object(n.jsx)(et.g,{label:{value:"\u0414\u043e\u0445\u043e\u0434 \u20bd",angle:-90,position:"insideLeft",fill:c.palette.text.secondary}}),Object(n.jsx)(et.c,{strokeDasharray:"3 3"}),Object(n.jsx)(et.e,{labelStyle:{color:"rgba(0, 0, 0, .87)"}}),Object(n.jsx)(et.a,{type:"monotone",dataKey:"income",name:"\u0414\u043e\u0445\u043e\u0434",fill:"none",stroke:"#8884d8",strokeWidth:"2"}),Object(n.jsx)(et.a,{type:"monotone",dataKey:"countOfLeases",name:"\u041a\u043e\u043b-\u0432\u043e \u0410\u0440\u0435\u043d\u0434",fill:"none",stroke:"#03f442",strokeWidth:"0"}),Object(n.jsx)(et.a,{type:"monotone",dataKey:"incidents",fill:"none",name:"\u041f\u0440\u043e\u0438\u0441\u0448\u0435\u0441\u0442\u0432\u0438\u0439",stroke:"#f44336",strokeWidth:"0"})]})})]})},rt=function(){var e=Object(o.f)(Xe);return Object(n.jsx)(ct,{reports:e})},it=Object(ce.a)((function(e){return Object(re.a)({root:{marginTop:0,marginBottom:0},ceil:{borderBottom:"1px solid rgba(0, 0, 0, 0.12)"}})})),st=function(e){var t=e.data,a=e.nameVariant,r=e.valueVariant,i=it();return Object(n.jsx)(Le.a,{container:!0,spacing:2,component:"dl",className:i.root,children:t.map((function(e){return Object(n.jsxs)(c.Fragment,{children:[Object(n.jsx)(Le.a,{item:!0,xs:6,className:i.ceil,children:Object(n.jsxs)(be.a,{component:"dt",variant:a||"body1",children:[e.name,":"]})}),Object(n.jsx)(Le.a,{item:!0,xs:6,className:i.ceil,children:Object(n.jsx)(be.a,{component:"dd",variant:r||"body1",children:e.value})})]},e.name)}))})},ot=Object(ce.a)((function(e){return Object(re.a)({root:{display:"flex",flexDirection:"column",height:"100%"},title:{marginBottom:e.spacing(1)},definitionList:{flex:1},bottomLink:{}})})),jt=function(e){var t=e.data,a=ot();return Object(n.jsxs)("div",{className:a.root,children:[Object(n.jsx)(be.a,{color:"primary",variant:"h6",component:"h2",className:a.title,children:"\u0421\u0432\u043e\u0434\u043a\u0430"}),Object(n.jsx)("div",{className:a.definitionList,children:Object(n.jsx)(st,{data:[{name:"\u0414\u043e\u0445\u043e\u0434",value:t?t.income:Object(n.jsx)(at.a,{variant:"text"})},{name:"\u041a\u043e\u043b-\u0432\u043e \u0410\u0440\u0435\u043d\u0434",value:t?t.countOfLeases:Object(n.jsx)(at.a,{variant:"text"})},{name:"\u041f\u0440\u043e\u0438\u0441\u0448\u0435\u0441\u0442\u0432\u0438\u0439",value:t?t.incidents:Object(n.jsx)(at.a,{variant:"text"})}]})}),Object(n.jsx)("div",{className:a.bottomLink,children:Object(n.jsx)(ye.a,{component:Ne.a,to:"/reviews",color:"primary",children:"\u041e\u0442\u0437\u044b\u0432\u044b"})})]})},lt=function(){var e=Object(o.f)($e);return Object(n.jsx)(jt,{data:e})},dt=a(51),ut=a(519),bt=a(520),Ot=a(521),ht=a(522),mt=a(523),xt=a(535),pt=a(524),ft=a(82),gt=(W={},Object(ft.a)(W,I.Free,"\u0421\u0432\u043e\u0431\u043e\u0434\u0435\u043d"),Object(ft.a)(W,I.Busy,"\u0417\u0430\u043d\u044f\u0442"),Object(ft.a)(W,I.Repair,"\u0412 \u0440\u0435\u043c\u043e\u043d\u0442\u0435"),W),vt=Object(ce.a)((function(e){return Object(re.a)({root:{}})})),yt=function(e,t,a){return e.report&&t.report?e.report[a]-t.report[a]:e.report?1:-1},wt=[{name:"countOfLeases",label:"\u041a\u043e\u043b-\u0432\u043e \u0410\u0440\u0435\u043d\u0434"},{name:"income",label:"\u0414\u043e\u0445\u043e\u0434"},{name:"incidents",label:"\u041f\u0440\u043e\u0438\u0441\u0448\u0435\u0441\u0442\u0432\u0438\u0439"}],Nt=function(e){var t=e.cars,a=vt(),r=Object(c.useState)(null),i=Object(dt.a)(r,2),s=i[0],o=i[1],j=Object(c.useState)("asc"),l=Object(dt.a)(j,2),d=l[0],u=l[1],b=Object(c.useMemo)((function(){return s?function(e,t,a,n){return e.slice().sort((function(e,c){return"asc"===n?t(e,c,a):-t(e,c,a)}))}(t,yt,s,d):t}),[t,s,d]),O=function(e){return function(){s===e?u("asc"===d?"desc":"asc"):o(e)}};return Object(n.jsx)(ut.a,{component:qe.a,children:Object(n.jsxs)(bt.a,{className:a.root,"aria-label":"car list table",children:[Object(n.jsx)(Ot.a,{children:Object(n.jsxs)(ht.a,{children:[Object(n.jsx)(mt.a,{children:"\u0413\u043e\u0441. \u041d\u043e\u043c\u0435\u0440"}),Object(n.jsx)(mt.a,{align:"center",children:"\u041c\u0430\u0440\u043a\u0430, \u041c\u043e\u0434\u0435\u043b\u044c"}),wt.map((function(e){return Object(n.jsx)(mt.a,{align:"center",className:"sortColumn",children:Object(n.jsx)(xt.a,{onClick:O(e.name),direction:d,active:s===e.name,children:e.label})},e.name)})),Object(n.jsx)(mt.a,{align:"center",children:"\u0421\u0442\u0430\u0442\u0443\u0441"})]})}),Object(n.jsx)(pt.a,{children:b&&b.map((function(e){return Object(n.jsxs)(ht.a,{children:[Object(n.jsx)(mt.a,{component:"th",scope:"row",children:e.stateNumber}),Object(n.jsx)(mt.a,{align:"center",children:Object(n.jsx)(ye.a,{component:Ne.a,to:"/cars/".concat(e.id),color:"primary",children:e.model})}),Object(n.jsxs)(mt.a,{align:"center",children:[!e.report&&Object(n.jsx)(at.a,{}),e.report&&e.report.countOfLeases]}),Object(n.jsxs)(mt.a,{align:"center",children:[!e.report&&Object(n.jsx)(at.a,{}),e.report&&e.report.income]}),Object(n.jsxs)(mt.a,{align:"center",children:[!e.report&&Object(n.jsx)(at.a,{}),e.report&&e.report.incidents]}),Object(n.jsx)(mt.a,{align:"center",children:gt[e.status]})]},e.id)}))})]})})},Ct=function(){var e=Object(o.f)(Qe);return Object(n.jsx)(Nt,{cars:e})},kt=Object(ce.a)((function(e){return Object(re.a)({root:{paddingTop:40,paddingBottom:40},header:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",paddingBottom:20,"@media screen and (max-width: 400px)":{flexWrap:"wrap",justifyContent:"center"}},h1:{width:"50%","@media screen and (max-width: 720px)":{width:"100%"}},dateRange:{"@media screen and (max-width: 720px)":{flexBasis:"20%"},"@media screen and (max-width: 400px)":{flexBasis:"100%"}},paper:{padding:e.spacing(2)},incomeTitle:{display:"flex",flexGrow:1},summary:{height:"100%"}})})),Tt=function(){var e=kt();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(je.a,{title:"\u041f\u0430\u043d\u0435\u043b\u044c \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f"}),Object(n.jsxs)(Le.a,{container:!0,className:e.root,spacing:3,children:[Object(n.jsxs)(Le.a,{item:!0,xs:12,className:e.header,children:[Object(n.jsx)(be.a,{variant:"h4",component:"h1",className:e.h1,children:"\u041f\u0430\u043d\u0435\u043b\u044c \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f"}),Object(n.jsx)("div",{className:e.dateRange,children:Object(n.jsx)(ze,{})})]}),Object(n.jsx)(Le.a,{item:!0,xs:12,children:Object(n.jsx)(Me.a,{})}),Object(n.jsx)(Le.a,{item:!0,xs:12,md:8,lg:9,children:Object(n.jsx)(qe.a,{className:e.paper,children:Object(n.jsx)(rt,{})})}),Object(n.jsx)(Le.a,{item:!0,xs:12,md:4,lg:3,children:Object(n.jsx)(qe.a,{className:Object(Ae.a)(e.paper,e.summary),children:Object(n.jsx)(lt,{})})}),Object(n.jsx)(Le.a,{item:!0,xs:12,children:Object(n.jsx)(Ct,{})})]})]})},Rt=function(){var e=Object(o.e)(),t=Object(o.f)(Ge,o.d),a=Object(o.f)(Je);return Object(c.useEffect)((function(){e(G())}),[e]),Object(c.useEffect)((function(){a.length>0&&e(Z(a,t.from,t.to))}),[e,a,t]),Object(n.jsx)(Tt,{})},St=Object(ce.a)((function(e){return Object(re.a)({root:{paddingTop:40,paddingBottom:40},header:{}})})),Dt=function(){var e=St();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(je.a,{title:"\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0438"}),Object(n.jsxs)(Le.a,{container:!0,className:e.root,spacing:3,children:[Object(n.jsx)(Le.a,{item:!0,xs:12,className:e.header,children:Object(n.jsx)(be.a,{variant:"h4",component:"h1",children:"\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0438"})}),Object(n.jsx)(Le.a,{item:!0,xs:12,children:Object(n.jsx)(Me.a,{})}),Object(n.jsx)(Le.a,{item:!0,xs:12,children:Object(n.jsx)(Ct,{})})]})]})},Et={from:C()().add(-1,"y"),to:C()()},Ft=function(){var e=Object(o.e)(),t=Object(o.f)(Je);return Object(c.useEffect)((function(){e(G())}),[e]),Object(c.useEffect)((function(){t.length>0&&e(Z(t,Et.from,Et.to))}),[e,t]),Object(n.jsx)(Dt,{})},Lt=Object(ce.a)((function(e){return Object(re.a)({root:{display:"inline-block",borderRadius:100}})})),Bt=function(e){var t=e.color,a=e.width,c=void 0===a?10:a,r=e.height,i=void 0===r?10:r,s=Lt();return Object(n.jsx)("div",{className:s.root,style:{width:c,height:i,backgroundColor:t}})},Mt=a(124),It=r.a.memo((function(e){var t=e.cars,a=e.width,i=void 0===a?"100%":a,s=e.height,o=void 0===s?250:s,j=Object(c.useRef)(null),l=r.a.useCallback((function(e){t.length>1&&j.current.setBounds(j.current.geoObjects.getBounds(),{checkZoomRange:!0,zoomMargin:15})}),[t]),d=r.a.useMemo((function(){return t&&t.length?{zoom:15,center:t[0].coordinats}:null}),[t]);return Object(n.jsxs)(n.Fragment,{children:[!t.length&&Object(n.jsx)(at.a,{variant:"rect",width:i,height:o}),t.length>0&&d&&Object(n.jsx)(Mt.c,{children:Object(n.jsx)(Mt.a,{width:i,height:o,defaultState:d,instanceRef:function(e){return j.current=e},onLoad:function(e){e.ready(l)},children:t.map((function(e){return Object(n.jsx)(Mt.b,{geometry:e.coordinats,properties:{iconCaption:e.model,balloonContentHeader:e.model,balloonContent:gt[e.status]},modules:["geoObject.addon.balloon"],options:{iconColor:e.color}},e.id)}))})})]})})),Yt=a(530),_t=Object(ce.a)((function(e){return Object(re.a)({root:{}})})),Pt=function(e){var t=e.reports,a=r.a.useState(0),i=Object(dt.a)(a,2),s=i[0],o=i[1],j=Object(c.useState)(20),l=Object(dt.a)(j,2),d=l[0],u=l[1],b=_t();return Object(n.jsxs)(qe.a,{className:b.root,children:[Object(n.jsx)(ut.a,{children:Object(n.jsxs)(bt.a,{className:b.root,"aria-label":"car list table",children:[Object(n.jsx)(Ot.a,{children:Object(n.jsxs)(ht.a,{children:[Object(n.jsx)(mt.a,{children:"\u0414\u0430\u0442\u0430"}),Object(n.jsx)(mt.a,{align:"center",children:"\u0414\u043e\u0445\u043e\u0434"}),Object(n.jsx)(mt.a,{align:"center",children:"\u041a\u043e\u043b-\u0432\u043e \u0410\u0440\u0435\u043d\u0434"}),Object(n.jsx)(mt.a,{align:"center",children:"\u041f\u0440\u043e\u0438\u0441\u0448\u0435\u0441\u0442\u0432\u0438\u0439"})]})}),Object(n.jsx)(pt.a,{children:t.length>0&&t.slice(s*d,s*d+d).map((function(e){return Object(n.jsxs)(ht.a,{children:[Object(n.jsx)(mt.a,{component:"th",scope:"row",children:e.date}),Object(n.jsx)(mt.a,{align:"center",children:e.income}),Object(n.jsx)(mt.a,{align:"center",children:e.countOfLeases}),Object(n.jsx)(mt.a,{align:"center",children:e.incidents})]},e.date)}))})]})}),Object(n.jsx)(Yt.a,{rowsPerPageOptions:[20,50,100],component:"div",count:t.length,rowsPerPage:d,page:s,onChangePage:function(e,t){o(t)},onChangeRowsPerPage:function(e){u(parseInt(e.target.value,10)),o(0)}})]})},At=function(){var e=Object(o.f)(Xe);return Object(n.jsx)(Pt,{reports:e})},qt=Object(ce.a)((function(e){return Object(re.a)({root:{paddingTop:40,paddingBottom:40},header:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",paddingBottom:20,"@media screen and (max-width: 400px)":{flexWrap:"wrap",justifyContent:"center"}},h1:{width:"50%","@media screen and (max-width: 720px)":{width:"100%"}},dateRange:{"@media screen and (max-width: 720px)":{flexBasis:"20%"},"@media screen and (max-width: 400px)":{flexBasis:"100%"}},carImage:{width:"100%",height:"auto"},paper:{padding:e.spacing(2)},summary:{height:"100%"},map:{marginTop:e.spacing(2)}})})),Gt=function(e){var t=e.car,a=qt();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(je.a,{title:t?t.model:"\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044c \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u043e"}),Object(n.jsxs)(Le.a,{container:!0,className:a.root,spacing:3,children:[Object(n.jsxs)(Le.a,{item:!0,xs:12,className:a.header,children:[Object(n.jsx)(be.a,{variant:"h4",component:"h1",color:"primary",className:a.h1,children:t?t.model:Object(n.jsx)(at.a,{variant:"text",width:100})}),Object(n.jsx)("div",{className:a.dateRange,children:Object(n.jsx)(ze,{})})]}),Object(n.jsx)(Le.a,{item:!0,xs:12,children:Object(n.jsx)(Me.a,{})}),Object(n.jsx)(Le.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(qe.a,{className:a.paper,children:t?Object(n.jsx)("img",{src:t.imageUrl,alt:t.model,className:a.carImage}):Object(n.jsx)(at.a,{variant:"rect",width:"100%",height:450})})}),Object(n.jsx)(Le.a,{item:!0,xs:12,sm:6,children:Object(n.jsxs)(qe.a,{className:a.paper,children:[Object(n.jsx)(st,{data:[{name:"\u041c\u043e\u0434\u0435\u043b\u044c",value:t?t.model:Object(n.jsx)(at.a,{variant:"text"})},{name:"\u0413\u043e\u0441. \u041d\u043e\u043c\u0435\u0440",value:t?t.stateNumber:Object(n.jsx)(at.a,{variant:"text"})},{name:"\u0426\u0432\u0435\u0442",value:t?Object(n.jsx)(Bt,{color:t.color,width:30}):Object(n.jsx)(at.a,{variant:"text"})},{name:"\u0421\u0442\u0430\u0442\u0443\u0441",value:t?gt[t.status]:Object(n.jsx)(at.a,{variant:"text"})}]}),Object(n.jsx)("div",{className:a.map,children:Object(n.jsx)(It,{cars:t?[t]:[]})})]})}),Object(n.jsx)(Le.a,{item:!0,xs:12,sm:8,lg:9,children:Object(n.jsx)(qe.a,{className:a.paper,children:Object(n.jsx)(rt,{})})}),Object(n.jsx)(Le.a,{item:!0,xs:12,sm:4,lg:3,children:Object(n.jsx)(qe.a,{className:Object(Ae.a)(a.paper,a.summary),children:Object(n.jsx)(lt,{})})}),Object(n.jsx)(Le.a,{item:!0,xs:12,children:Object(n.jsx)(At,{})})]})]})},Wt=function(){var e=Object(l.f)().id,t=Object(o.e)(),a=Object(o.f)(Ge,o.d),r=Object(o.f)((function(t){return t.vehicles.cars.cars.find((function(t){return String(t.id)===e}))}));return Object(c.useEffect)((function(){r||t(function(e){return function(){var t=Object(F.a)(E.a.mark((function t(a){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:P}),t.prev=1,t.next=4,Y.getCarById(e);case 4:if(n=t.sent){t.next=7;break}throw new Error("Car with id ".concat(e," doesn't exist."));case 7:a({type:A,payload:[n]}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),a({type:q,payload:t.t0.message}),a(Object(_.d)("/404"));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}(e))}),[e,t,r]),Object(c.useEffect)((function(){r&&t(Z([r],a.from,a.to))}),[r,a,t]),Object(n.jsx)(Gt,{car:r})},Ut=Object(ce.a)((function(e){return Object(re.a)({root:{paddingTop:40,paddingBottom:40},header:{}})})),Vt=function(e){var t=e.cars,a=Ut();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(je.a,{title:"\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0438 \u043d\u0430 \u043a\u0430\u0440\u0442\u0435"}),Object(n.jsxs)(Le.a,{container:!0,className:a.root,spacing:3,children:[Object(n.jsx)(Le.a,{item:!0,xs:12,className:a.header,children:Object(n.jsx)(be.a,{variant:"h4",component:"h1",children:"\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0438 \u043d\u0430 \u043a\u0430\u0440\u0442\u0435"})}),Object(n.jsx)(Le.a,{item:!0,xs:12,children:Object(n.jsx)(Me.a,{})}),Object(n.jsx)(Le.a,{item:!0,xs:12,children:Object(n.jsx)(It,{cars:t||[],height:350})})]})]})},zt=function(){var e=Object(o.e)(),t=Object(o.f)(Je);return Object(c.useEffect)((function(){e(G())}),[e]),Object(n.jsx)(Vt,{cars:t})},Ht=a(536),Kt=Object(ce.a)((function(e){return Object(re.a)({root:{},paper:{padding:e.spacing(2)},header:{},author:{},date:{},divider:{marginTop:-12,marginBottom:-12}})})),Jt=function(e){e.id;var t=e.author,a=e.date,c=e.rating,r=e.text,i=Kt();return Object(n.jsx)(qe.a,{className:i.paper,children:Object(n.jsxs)(Le.a,{container:!0,className:i.root,spacing:3,children:[Object(n.jsxs)(Le.a,{item:!0,xs:12,sm:6,children:[Object(n.jsx)(be.a,{className:i.author,variant:"h5",component:"h4",children:t}),Object(n.jsx)("div",{children:Object(n.jsx)(Ht.a,{name:"rating",value:c,precision:.5,readOnly:!0,size:"small"})})]}),Object(n.jsx)(Le.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(be.a,{className:i.date,color:"textSecondary",align:"right",children:a.format("DD.MM.YYYY")})}),Object(n.jsx)(Le.a,{item:!0,xs:12,className:i.divider,children:Object(n.jsx)(Me.a,{})}),Object(n.jsx)(Le.a,{item:!0,xs:12,children:Object(n.jsx)(be.a,{color:"textSecondary",dangerouslySetInnerHTML:{__html:r}})})]})})},Zt=Object(ce.a)((function(e){return Object(re.a)({root:{paddingTop:40,paddingBottom:40},header:{},skeletonRating:{marginBottom:10}})})),Qt=function(e){var t=e.reviews,a=e.isFetching,c=Zt();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(je.a,{title:"\u041e\u0442\u0437\u044b\u0432\u044b"}),Object(n.jsxs)(Le.a,{container:!0,className:c.root,spacing:3,children:[Object(n.jsx)(Le.a,{item:!0,xs:12,className:c.header,children:Object(n.jsx)(be.a,{variant:"h4",component:"h1",children:"\u041e\u0442\u0437\u044b\u0432\u044b"})}),a&&Array.from({length:4}).map((function(e,t){return Object(n.jsxs)(Le.a,{item:!0,xs:12,md:6,children:[Object(n.jsx)(at.a,{variant:"text",width:150}),Object(n.jsx)(at.a,{variant:"rect",width:100,height:15,className:c.skeletonRating}),Object(n.jsx)(at.a,{variant:"rect",width:"100%",height:120})]},t)})),!a&&t.map((function(e){return Object(n.jsx)(Le.a,{item:!0,xs:12,md:6,children:Object(n.jsx)(Jt,Object(p.a)({},e))},e.id)}))]})]})},Xt=function(){function e(){Object(L.a)(this,e)}return Object(B.a)(e,null,[{key:"getReviews",value:function(){return new Promise((function(t){setTimeout((function(){return t(e.reviews)}),2500)}))}}]),e}();Xt.reviews=[{id:1,author:"Naruto Uzumaki",rating:4.5,text:"\u0412\u0441\u0435 \u0445\u043e\u0440\u043e\u0448\u043e, \u043d\u043e \u0432 \u0434\u0435\u043d\u044c - \u043e\u0434\u0438\u043d, \u043d\u0443 \u0434\u0432\u0430 \u043f\u043e\u0434\u0432\u0438\u0433\u0430, \u043d\u0435 \u0431\u043e\u043b\u044c\u0448\u0435. <br/>\n      \u041d\u0435 \u0431\u044b\u0432\u0430\u0435\u0442 \u0431\u0435\u0437\u0432\u044b\u0445\u043e\u0434\u043d\u044b\u0445 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0439. \u0411\u044b\u0432\u0430\u044e\u0442 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0438, \u0432\u044b\u0445\u043e\u0434 \u0438\u0437 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0442\u0435\u0431\u044f \u043d\u0435 \u0443\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u0442.<br/>\n      \u041d\u0438\u043a\u043e\u0433\u0434\u0430 \u043d\u0435 \u0441\u0434\u0430\u0432\u0430\u0442\u044c\u0441\u044f \u0412\u0441\u0442\u0430\u0442\u044c, \u043a\u043e\u0433\u0434\u0430 \u0432\u0441\u0435 \u0440\u0443\u0445\u043d\u0443\u043b\u043e \u2014 \u0432\u043e\u0442 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0430\u044f \u0441\u0438\u043b\u0430.",date:C()().add(-7,"d")},{id:2,author:"Sasuke Uchiha",rating:5,text:"\u0423 \u0442\u0435\u0431\u044f \u0431\u044b\u043b\u0430 \u043c\u0435\u0447\u0442\u0430 \u0441\u0442\u0430\u0442\u044c \u0425\u043e\u043a\u0430\u0433\u0435? \u0415\u0441\u043b\u0438 \u0443 \u0442\u0435\u0431\u044f \u0435\u0441\u0442\u044c \u0432\u0440\u0435\u043c\u044f \u0431\u0435\u0433\u0430\u0442\u044c \u0437\u0430 \u043c\u043d\u043e\u0439, \u043c\u043e\u0436\u0435\u0442, \u0441\u0442\u043e\u0438\u0442 \u0431\u043e\u043b\u044c\u0448\u0435 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f...<br/>\n      \u0410, \u041d\u0430\u0440\u0443\u0442\u043e?..<br/>\n      \u0420\u0430\u0437\u0432\u0435 \u043c\u043e\u0436\u0435\u0442 \u0442\u043e\u0442, \u043a\u0442\u043e \u043d\u0435 \u0441\u043f\u0430\u0441 \u0442\u043e\u0432\u0430\u0440\u0438\u0449\u0430 \u0441\u0442\u0430\u0442\u044c \u0425\u043e\u043a\u0430\u0433\u0435?",date:C()().add(-65,"d")},{id:3,author:"Kakashi Hatake",rating:3.5,text:"\u0422\u044b \u0434\u0443\u043c\u0430\u0435\u0448\u044c, \u0447\u0442\u043e \u0442\u044b \u043f\u043e\u043d\u044f\u043b \u044d\u0442\u043e, \u0445\u043e\u0442\u044f \u043d\u0430 \u0441\u0430\u043c\u043e\u043c \u0434\u0435\u043b\u0435 \u0432\u0441\u0435\u0433\u043e \u043b\u0438\u0448\u044c \u0434\u0443\u043c\u0430\u0435\u0448\u044c, \u0447\u0442\u043e \u0442\u044b \u043f\u043e\u043d\u044f\u043b \u0442\u043e, \u043e \u0447\u0435\u043c \u0442\u044b \u0434\u0443\u043c\u0430\u0435\u0448\u044c.<br/>\n      \u0421\u043a\u043e\u043b\u044c\u043a\u043e \u0431\u044b \u0438\u043b\u043b\u044e\u0437\u0438\u0439 \u0442\u044b \u043d\u0438 \u0441\u043e\u0447\u0438\u043d\u0438\u043b, \u043e\u043d\u0438 \u043d\u0438\u043a\u043e\u0433\u0434\u0430 \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0442 \u0434\u044b\u0440\u0443 \u0432 \u0442\u0432\u043e\u0451\u043c \u0441\u0435\u0440\u0434\u0446\u0435!<br/>\n      \u041d\u0435 \u0431\u0443\u0434\u0435\u0442 \u0442\u0440\u0443\u0441\u043e\u0441\u0442\u044c\u044e \u043e\u0442\u043a\u0430\u0437\u0430\u0442\u044c\u0441\u044f \u043e\u0442 \u043f\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0438. \u0422\u0440\u0443\u0441\u043e\u0441\u0442\u044c\u044e \u0431\u0443\u0434\u0435\u0442 \u043d\u0435 \u0434\u0435\u043b\u0430\u0442\u044c \u043d\u0438\u0447\u0435\u0433\u043e.",date:C()().add(-2,"d")}];var $t=Xt,ea=function(){var e=Object(c.useState)([]),t=Object(dt.a)(e,2),a=t[0],r=t[1],i=Object(c.useState)(!0),s=Object(dt.a)(i,2),o=s[0],j=s[1];return Object(c.useEffect)((function(){(function(){var e=Object(F.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,$t.getReviews();case 3:t=e.sent,j(!1),r(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.jsx)(Qt,{reviews:a,isFetching:o})},ta=Object(ce.a)((function(e){return Object(re.a)({root:{paddingTop:40,paddingBottom:40}})})),aa=function(){var e=ta();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(je.a,{title:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"}),Object(n.jsx)(Le.a,{container:!0,className:e.root,spacing:3,children:Object(n.jsx)(Le.a,{item:!0,xs:12,alignContent:"center",alignItems:"center",children:Object(n.jsx)(be.a,{variant:"h2",component:"h1",color:"primary",align:"center",children:"Page Not Found."})})})]})},na=Object(ce.a)((function(e){return Object(re.a)({root:{paddingTop:40,paddingBottom:40}})})),ca=function(e){var t=e.error,a=na();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(je.a,{title:"\u041e\u0448\u0438\u0431\u043a\u0430"}),Object(n.jsx)(Le.a,{container:!0,className:a.root,spacing:3,children:Object(n.jsx)(Le.a,{item:!0,xs:12,alignContent:"center",alignItems:"center",children:Object(n.jsx)(be.a,{variant:"h4",component:"h1",color:"primary",align:"center",children:t.message})})})]})},ra=function(){var e=Object(u.a)(),t=e.ErrorBoundary,a=e.didCatch,c=e.error;return Object(n.jsx)(d.a,{history:te,children:Object(n.jsx)(Pe,{children:a?Object(n.jsx)(ca,{error:c}):Object(n.jsx)(t,{children:Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{exact:!0,path:"/",component:Rt}),Object(n.jsx)(l.a,{exact:!0,path:"/cars",component:Ft}),Object(n.jsx)(l.a,{exact:!0,path:"/cars/:id",component:Wt}),Object(n.jsx)(l.a,{exact:!0,path:"/maps",component:zt}),Object(n.jsx)(l.a,{exact:!0,path:"/reviews",component:ea}),Object(n.jsx)(l.a,{path:"*",component:aa})]})})})})};s.a.render(Object(n.jsx)(o.a,{store:ne,children:Object(n.jsx)(ra,{})}),document.getElementById("root")),j()}},[[457,1,2]]]);
//# sourceMappingURL=main.9c1b4e72.chunk.js.map